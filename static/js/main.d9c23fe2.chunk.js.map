{"version":3,"sources":["components/auth/Login.module.css","components/auth/Login.js","images/header1.jpg","images/header2.jpg","images/header3.jpg","images/header4.jpg","components/main/Header.js","components/main/Memory.js","components/main/End.js","components/main/index.js","components/create/createMemory.js","App.js","index.js","components/create/createMemory.module.css"],"names":["module","exports","Login","updateUsername","useState","name","setName","history","useHistory","className","classes","container","onSubmit","e","preventDefault","length","axios","post","username","then","res","push","catch","err","console","log","input","type","required","value","onChange","target","button","i","Header","backgrounds","Bg1","Bg2","Bg3","Bg4","activeIndex","SetActiveIndex","useEffect","interval","setInterval","clearInterval","style","backgroundImage","transition","backgroundSize","backgroundRepeat","backgroundPosition","id","Memory","mem","index","imgb64","zIndex","title","content","dangerouslySetInnerHTML","__html","join","End","fontSize","position","onClick","Main","this","props","memories","map","React","Component","withRouter","CreateMemory","state","imgPreview","handleImageChange","selected","files","includes","reader","FileReader","onload","image","Image","src","result","width","height","alert","setState","readAsDataURL","addMemory","memory","imgData","date","Date","data","htmlFor","fileUpload","background","text","placeholder","memTitle","memContent","submit","App","getUserMemories","get","temp","img","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9c23fe2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__3WE2v\",\"input\":\"Login_input__1K3F6\",\"button\":\"Login_button__3wsI7\"};","import axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport React, { useState } from \"react\";\r\nimport classes from \"./Login.module.css\";\r\n\r\nconst Login = ({ updateUsername }) => {\r\n  const [name, setName] = useState(\"\");\r\n  let history = useHistory();\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    // \"http://localhost:5000/users/add\"\r\n    // \"https://ancient-lowlands-88829.herokuapp.com/users/add\"\r\n    if (name.length >= 3) {\r\n      axios\r\n        .post(\"https://ancient-lowlands-88829.herokuapp.com/users/add\", {\r\n          username: name,\r\n        })\r\n        .then((res) => {\r\n          updateUsername(name);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <form onSubmit={onSubmit}>\r\n        <div>\r\n          <input\r\n            className={classes.input}\r\n            type=\"text\"\r\n            required\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button className={classes.button} type=\"submit\">\r\n            Log in\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/header1.39e9b655.jpg\";","export default __webpack_public_path__ + \"static/media/header2.d004abe6.jpg\";","export default __webpack_public_path__ + \"static/media/header3.010b7bf3.jpg\";","export default __webpack_public_path__ + \"static/media/header4.5944de32.jpg\";","import React, { useEffect, useState } from \"react\";\r\nimport Bg1 from \"../../images/header1.jpg\";\r\nimport Bg2 from \"../../images/header2.jpg\";\r\nimport Bg3 from \"../../images/header3.jpg\";\r\nimport Bg4 from \"../../images/header4.jpg\";\r\n\r\nlet i = 0;\r\n\r\nconst Header = () => {\r\n  const backgrounds = [Bg1, Bg2, Bg3, Bg4];\r\n  const [activeIndex, SetActiveIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      console.log(i);\r\n      if (i === 3) {\r\n        i = 0;\r\n        SetActiveIndex(0);\r\n      } else {\r\n        i++;\r\n        SetActiveIndex((activeIndex) => activeIndex + 1);\r\n      }\r\n    }, 5000);\r\n    return () => {\r\n      console.log(\"clean up\");\r\n      clearInterval(interval);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: `url(${backgrounds[activeIndex]})`,\r\n        transition: \"background-image 1s ease-in-out\",\r\n        backgroundSize: \"cover\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundPosition: \"center\",\r\n      }}\r\n      id=\"title\"\r\n      className=\"slide header\"\r\n    >\r\n      <h1>Memory Wheel</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst Memory = ({ mem, index }) => {\r\n  return (\r\n    <div\r\n      style={\r\n        !(index % 2 === 0)\r\n          ? { backgroundImage: `url(${mem.imgb64})`, zIndex: 2 }\r\n          : {}\r\n      }\r\n      id={`slide${index}`}\r\n      className=\"slide\"\r\n    >\r\n      <div className=\"title\">\r\n        <h1>{mem.title}</h1>\r\n        <p>{mem.content}</p>\r\n      </div>\r\n      {index % 2 === 0 ? (\r\n        <style\r\n          dangerouslySetInnerHTML={{\r\n            __html: [\r\n              `#slide${index}:before {`,\r\n              `background-image: url(${mem.imgb64});`,\r\n              \"transform: translateZ(-1px) scale(2);\",\r\n              \"z-index: -1\",\r\n              \"}\",\r\n            ].join(\"\\n\"),\r\n          }}\r\n        ></style>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Memory;\r\n","import React from \"react\";\r\n\r\nconst End = ({ history }) => {\r\n  const handleClick = () => {\r\n    history.push(\"/create\");\r\n  };\r\n\r\n  return (\r\n    <div id=\"end\" className=\"slide header\">\r\n      <h1>The End</h1>\r\n      <div style={{ fontSize: \"100px\" }}>\r\n        <div\r\n          className=\"fas fa-plus-circle\"\r\n          style={{ position: \"relative\", zIndex: 10 }}\r\n          onClick={handleClick}\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default End;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Memory from \"./Memory\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport End from \"./End\";\r\n\r\nclass Main extends React.Component {\r\n  componentDidMount() {\r\n    if (this.props.username === \"\") {\r\n      this.props.history.push(\"/login\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        {this.props.memories.map((mem, i) => (\r\n          <Memory mem={mem} index={i + 1} key={i} />\r\n        ))}\r\n        <End history={this.props.history} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Main);\r\n","import React from \"react\";\r\nimport classes from \"./createMemory.module.css\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass CreateMemory extends React.Component {\r\n  state = {\r\n    imgPreview: null,\r\n    title: \"\",\r\n    content: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.username === \"\") {\r\n      this.props.history.push(\"/login\");\r\n    }\r\n  }\r\n\r\n  handleImageChange = (e) => {\r\n    const selected = e.target.files[0];\r\n    const ALLOWED_TYPES = [\"image/png\", \"image/jpeg\", \"image/jpg\"];\r\n    if (selected && ALLOWED_TYPES.includes(selected.type)) {\r\n      let reader = new FileReader();\r\n      reader.onload = () => {\r\n        var image = new Image();\r\n        image.src = reader.result;\r\n        image.onload = () => {\r\n          if (image.width > 1920 || image.height > 1080) {\r\n            alert(\"Image size must be within 1920x1080\");\r\n          } else {\r\n            this.setState({ imgPreview: reader.result });\r\n          }\r\n        };\r\n      };\r\n      reader.readAsDataURL(selected);\r\n    } else {\r\n      alert(\"Wrong file type\");\r\n    }\r\n  };\r\n\r\n  addMemory = () => {\r\n    const memory = {\r\n      imgData: this.state.imgPreview,\r\n      title: this.state.title,\r\n      content: this.state.content,\r\n      date: new Date(),\r\n    };\r\n    // \"http://localhost:5000/users/memories/add/\r\n    // \"https://ancient-lowlands-88829.herokuapp.com/users/memories/add/\"\r\n    axios\r\n      .post(\r\n        `https://ancient-lowlands-88829.herokuapp.com/users/memories/add/${this.props.username}`,\r\n        memory\r\n      )\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        this.setState({\r\n          imgData: null,\r\n          title: \"\",\r\n          content: \"\",\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={classes.container}>\r\n        <div className={classes.title}>Background Image For Your Memory</div>\r\n        <label className={classes.button} htmlFor=\"fileUpload\">\r\n          Upload Image\r\n        </label>\r\n        <input\r\n          type=\"file\"\r\n          id=\"fileUpload\"\r\n          className={classes.fileUpload}\r\n          onChange={(e) => this.handleImageChange(e)}\r\n        />\r\n        <div\r\n          className={classes.imgPreview}\r\n          style={{\r\n            background: this.state.imgPreview\r\n              ? `url(\"${this.state.imgPreview}\") no-repeat center/cover`\r\n              : \"\",\r\n          }}\r\n        ></div>\r\n        <div className={classes.text}>\r\n          <input\r\n            placeholder=\"Title\"\r\n            onChange={(e) => {\r\n              this.setState({ title: e.target.value });\r\n            }}\r\n            value={this.state.title}\r\n            className={classes.memTitle}\r\n          />\r\n          <textarea\r\n            placeholder=\"Content\"\r\n            onChange={(e) => {\r\n              this.setState({ content: e.target.value });\r\n            }}\r\n            value={this.state.content}\r\n            className={classes.memContent}\r\n          />\r\n          <button className={classes.submit} onClick={this.addMemory}>\r\n            ADD!\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(CreateMemory);\r\n","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Login from \"./components/auth/Login\";\nimport Main from \"./components/main\";\nimport CreateMemory from \"./components/create/createMemory\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  state = {\n    username: \"\",\n    memories: [],\n  };\n\n  getUserMemories = (name) => {\n    this.setState({ username: name }, () => {\n      // \"http://localhost:5000/users/memories/\"\n      // \"https://ancient-lowlands-88829.herokuapp.com/users/memories/\"\n      axios\n        .get(\n          \"https://ancient-lowlands-88829.herokuapp.com/users/memories/\" +\n            this.state.username\n        )\n        .then((res) => {\n          this.setState({ memories: [] });\n          let temp = [...this.state.memories];\n          res.data.map((mem) =>\n            temp.push({\n              imgb64: mem.img,\n              title: mem.title,\n              content: mem.content,\n              date: mem.date,\n            })\n          );\n          this.setState({ memories: temp });\n        })\n        .catch((err) => console.log(err));\n    });\n  };\n\n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <Route\n            path=\"/\"\n            exact\n            render={(props) => (\n              <Main\n                username={this.state.username}\n                memories={this.state.memories}\n              />\n            )}\n          />\n          <Route\n            path=\"/login\"\n            render={(props) => (\n              <Login updateUsername={(name) => this.getUserMemories(name)} />\n            )}\n          />\n          <Route\n            path=\"/create\"\n            render={(props) => <CreateMemory username={this.state.username} />}\n          />\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"createMemory_container__JZgyX\",\"title\":\"createMemory_title__28APe\",\"button\":\"createMemory_button__cjpR-\",\"imgPreview\":\"createMemory_imgPreview__23efK\",\"text\":\"createMemory_text__3FyM9\",\"memTitle\":\"createMemory_memTitle__T6Slc\",\"memContent\":\"createMemory_memContent__c6g1x\",\"fileUpload\":\"createMemory_fileUpload__1poad\",\"submit\":\"createMemory_submit__TMmbz\"};"],"sourceRoot":""}